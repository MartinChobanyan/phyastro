function SearchAlgoritm() { var l, i, a, h = document.getElementById("book-type").value; l = document.getElementById("SearchingLine"); l.value = l.value.replace(/[^\sа-яА-Яa-zA-Z1-9.-]+/g, ""); i = l.value.trim().toUpperCase().replace(/[\s.-]+/g, ""); a = document.getElementById("G").getElementsByTagName("li"); if (i) { for (var k = 0; k < a.length; k++) { var m = a[k].getElementsByTagName("a")[0]; if (m.className == "header") { a[k].style.display = "none"; continue } else { if (m.innerHTML.toUpperCase().replace(/[^а-яА-Яa-zA-Z1-9]+/g, "").indexOf(i) != -1) { if (h) { if (h == m.getAttribute("t")) { a[k].style.display = "" } else { a[k].style.display = "none" } } else { a[k].style.display = "" } } else { a[k].style.display = "none" } } } } else { if (h) { for (var k = 0; k < a.length; k++) { var m = a[k].getElementsByTagName("a")[0].getAttribute("t"); if (h == m) { a[k].style.display = "" } else { a[k].style.display = "none" } } } else { for (var k = 0; k < a.length; k++) { a[k].style.display = "" } } } };